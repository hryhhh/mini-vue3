<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="app"></div>
    <script type="module">
        //   import {
        //     reactive,
        //     watch,
        //     watchEffect,
        //   } from "/node_modules/@vue/reactivity/dist/reactivity.esm-browser.js";
        import { reactive, watch, watchEffect } from "./reactivity.js";
        // console.log(watch);
      //   console.log(watchEffect);
      const app = document.querySelector(".app");
      const val=ref("")
      function getData(timer){
          return new Promise((resolve,reject)=>{
              setTimeout(()=>{
                  resolve(timer)
              },timer)
          })
      }
      let timer=1000
      watch(val,async()=>{
          let r=await getData(timer);

      })
      //   const state = reactive({
      //     name: "haha",
      //     age: 18,
      //     address: { city: "beijing" },
      //   });
        //   app.innerHTML = state.name
        //   console.log(state);

        // watchEffect(() => {
        //   console.log("runner");
        //   console.log(state.name);
        //   console.log(state.address.city);

        //   app.innerHTML = state.name;
        // });
      //   const unwatch = watch(
      //     state,
      //     (newValue, oldValue) => {
      //       console.log("newValue", newValue);
      //       console.log("oldValue", oldValue);
      //       app.innerHTML = newValue.name;
      //     },
      //     {
      //       deep: true,
      //       immediate: true,
      //     }
      //   );
      //   unwatch();
      //   setTimeout(() => {
      //     state.name = "gaga";
      //   }, 1000);
    </script>
  </body>
</html>
